\doxysection{QAdapter\+Widget.\+h}
\hypertarget{_q_adapter_widget_8h_source}{}\label{_q_adapter_widget_8h_source}\index{View/Include/View/Qt/QAdapterWidget.h@{View/Include/View/Qt/QAdapterWidget.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <View/Export.h>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <View/Qt/Widget.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <View/Qt/KeyPressFilter.h>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Controller/MoveController.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }Tetris::View::Qt}
\DoxyCodeLine{00011\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keyword}{class\ }VIEW\_EXPORT\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter}{Adapter}}:\ \textcolor{keyword}{public}\ QObject}
\DoxyCodeLine{00014\ \ \ \ \ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ Q\_OBJECT}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a598b483a1b8c00cc5cbe345cf1fc6084}{Adapter}}(AbstractModelPtr\ model):\ \_controller(model)\ \{\}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a3ab761d9a0c5d4ca4543e49c325e8929}{CreateWidget}}()}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_widget}{Widget}}*\ widget\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_widget}{Widget}}();}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ SetConnection(widget);\ \textcolor{comment}{//\ Устанавливаем\ соединения\ сигналов\ и\ слотов}}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>show();\ \textcolor{comment}{//\ Показываем\ виджет}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a71a610aa04d1b3ff5342514c5f7aa4d2}{CloseWidgets}}()}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ emit\ signalCloseWidget();\ \textcolor{comment}{//\ Генерируем\ сигнал\ закрытия\ виджетов}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_aa1001c60fd7b25b20c1d1f8b30a37a92}{UpdateWidgets}}(DescriptionModelPtr\ desc)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ emit\ signalUpdateWidget(desc);\ \textcolor{comment}{//\ Генерируем\ сигнал\ обновления\ виджетов}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{public}\ slots:}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a7813cf568f0d8d30988df86ab5e7fba3}{SlotUpdateModel}}(Model::Command\ cmd)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \_controller.Move(cmd);\ \textcolor{comment}{//\ Передаем\ команду\ контроллеру}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ signals:}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_accd01d00325ba6e4be8e406f5f59b1c2}{signalUpdateWidget}}(DescriptionModelPtr\ desc);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_accaa9b22cf77a21108e39aac006d87a7}{signalCloseWidget}}();}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ SetConnection(\mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_widget}{Widget}}*\ ptr)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ connect(\textcolor{keyword}{this},\ \&Adapter::signalCloseWidget,\ ptr,\ \&Widget::close);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ connect(\textcolor{keyword}{this},\ \&Adapter::signalUpdateWidget,\ ptr,\ \&Widget::SlotUpdateView);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ connect(ptr,\ \&Widget::SignalUpdateModel,\ \textcolor{keyword}{this},\ \&Adapter::SlotUpdateModel);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tetris_1_1_controller_1_1_move_controller}{Controller::MoveController}}\ \_controller;\ }
\DoxyCodeLine{00067\ \ \ \ \ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget}{QAdapterWidget}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_tetris_1_1_model_1_1_abstract_widget}{Model::AbstractWidget}}}
\DoxyCodeLine{00072\ \ \ \ \ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_a03961780240b1c253046bd8fdbccd2da}{QAdapterWidget}}(AbstractModelPtr\ model):\ AbstractWidget(),\ \_adapter(new\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter}{Adapter}}(model))\ \{\}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_add2bb9efe338a1de33aaf6a011d7aecb}{Update}}()\textcolor{keyword}{\ override\ }\{\}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_ad38d9aab92ce4a798b361c0c82436b1e}{SlotUpdateWidget}}(DescriptionModelPtr\ descp)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00084\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \_adapter-\/>\mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_aa1001c60fd7b25b20c1d1f8b30a37a92}{UpdateWidgets}}(descp);\ \textcolor{comment}{//\ Передаем\ обновление\ адаптеру}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_a58022da2d43f608c5a0014254292ac30}{IsOpen}}()\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{00091\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Здесь\ можно\ добавить\ логику\ для\ проверки\ состояния}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_a5aef349f3da2634748db811f234c4172}{SlotCloseWidget}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00097\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \_adapter-\/>\mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a71a610aa04d1b3ff5342514c5f7aa4d2}{CloseWidgets}}();\ \textcolor{comment}{//\ Передаем\ запрос\ на\ закрытие\ адаптеру}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_q_adapter_widget_aca71932f4ca1d7a646e227b7348575dc}{CreateWidget}}()}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \_adapter-\/>\mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter_a3ab761d9a0c5d4ca4543e49c325e8929}{CreateWidget}}();\ \textcolor{comment}{//\ Передаем\ запрос\ на\ создание\ виджета\ адаптеру}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tetris_1_1_view_1_1_qt_1_1_adapter}{Adapter}}*\ \_adapter;\ }
\DoxyCodeLine{00109\ \ \ \ \ \};}
\DoxyCodeLine{00110\ \}}

\end{DoxyCode}
